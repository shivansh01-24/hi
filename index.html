<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infosys Cloud & Workforce Optimizer - Powered by QEO</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <div class="brand-wrapper">
                <h1><span class="highlight">Q</span>E<span class="highlight">O</span></h1>
                <h2>Infosys Cloud & Workforce Optimizer</h2>
                <div class="powered-by">Powered by Quantum-AI Hybrid Technology</div>
            </div>
        </div>
        <nav>
            <a href="{{ url_for('index') }}" class="active">Home</a>
            <a href="{{ url_for('quantum_playground_page') }}">Quantum Playground</a>
            <a href="{{ url_for('data_format') }}">Data Format</a>
        </nav>
    </header>

    <main class="container">
        <section id="intro" class="card">
            <div class="card-header">
                <h3><i data-feather="zap"></i> Quantum-Powered Enterprise Solution</h3>
            </div>
            <div class="card-body">
                <div class="infosys-banner">
                    <div class="banner-content">
                        <h4>Infosys Enterprise Optimization Solution</h4>
                        <p>This quantum-powered platform optimizes workforce allocation, cloud resources, and project management with real-time efficiency. Developed specifically for Infosys' enterprise needs, it delivers measurable cost savings and improved project timelines.</p>
                        <div class="key-benefits">
                            <div class="benefit">
                                <i data-feather="dollar-sign"></i>
                                <span>15-30% Cloud Cost Reduction</span>
                            </div>
                            <div class="benefit">
                                <i data-feather="clock"></i>
                                <span>Faster Project Delivery</span>
                            </div>
                            <div class="benefit">
                                <i data-feather="cpu"></i>
                                <span>Real IBM Qiskit Integration</span>
                            </div>
                        </div>
                    </div>
                </div>
                <p>Welcome to QEO, a revolutionary workflow optimization platform that leverages IBM Qiskit quantum algorithms and AI to assign resources to tasks with unmatched precision. Simply input your workforce, projects, budget, and deadline to optimize your enterprise resources.</p>
            </div>
        </section>

        <section id="input-section" class="card">
            <div class="card-header">
                <h3><i data-feather="edit"></i> Input Data</h3>
            </div>
            <div class="card-body">
                <form id="optimization-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="budget">Budget ($)</label>
                            <input type="number" id="budget" name="budget" min="1" required>
                        </div>
                        <div class="form-group">
                            <label for="deadline">Deadline (days)</label>
                            <input type="number" id="deadline" name="deadline" min="1" required>
                        </div>
                    </div>

                    <h4><i data-feather="users"></i> Developers</h4>
                    <div id="developers-container">
                        <div class="developer-row">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Name</label>
                                    <input type="text" class="dev-name" required>
                                </div>
                                <div class="form-group">
                                    <label>Rate ($/hour)</label>
                                    <input type="number" class="dev-rate" min="1" required>
                                </div>
                                <div class="form-group">
                                    <label>Hours/day</label>
                                    <input type="number" class="dev-hours" min="1" max="24" required>
                                </div>
                                <div class="form-group">
                                    <label>Skills (comma separated)</label>
                                    <input type="text" class="dev-skills" placeholder="Python, UI, Database">
                                </div>
                                <button type="button" class="remove-btn" title="Remove" disabled><i data-feather="x-circle"></i></button>
                            </div>
                        </div>
                    </div>
                    <button type="button" id="add-developer" class="btn-secondary">
                        <i data-feather="plus"></i> Add Developer
                    </button>

                    <h4><i data-feather="briefcase"></i> Projects</h4>
                    <div id="projects-container">
                        <div class="project-row">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Name</label>
                                    <input type="text" class="proj-name" required>
                                </div>
                                <div class="form-group">
                                    <label>Hours</label>
                                    <input type="number" class="proj-hours" min="1" required>
                                </div>
                                <div class="form-group">
                                    <label>Priority (1-5)</label>
                                    <input type="number" class="proj-priority" min="1" max="5" value="3" required>
                                </div>
                                <div class="form-group">
                                    <label>Dependencies</label>
                                    <input type="text" class="proj-deps" placeholder="Project1, Project2">
                                </div>
                                <div class="form-group">
                                    <label>Required Skills</label>
                                    <input type="text" class="proj-skills" placeholder="Python, UI">
                                </div>
                                <button type="button" class="remove-btn" title="Remove" disabled><i data-feather="x-circle"></i></button>
                            </div>
                        </div>
                    </div>
                    <button type="button" id="add-project" class="btn-secondary">
                        <i data-feather="plus"></i> Add Project
                    </button>

                    <div class="form-actions">
                        <button type="submit" id="optimize-btn" class="btn-primary">
                            <i data-feather="cpu"></i> Optimize Now
                        </button>
                        <button type="button" id="reset-btn" class="btn-secondary">
                            <i data-feather="refresh-cw"></i> Reset
                        </button>
                        <div class="data-import-section">
                            <button type="button" id="import-data-btn" class="btn-secondary">
                                <i data-feather="file-text"></i> Import Data
                            </button>
                            <div id="import-options" class="hidden">
                                <button type="button" id="sample-data-btn" class="btn-sm">
                                    <i data-feather="clipboard"></i> Load Sample Data
                                </button>
                                <button type="button" id="csv-import-btn" class="btn-sm">
                                    <i data-feather="upload"></i> Import CSV/Excel
                                </button>
                                <a href="/data-format" class="btn-sm" target="_blank">
                                    <i data-feather="help-circle"></i> View Format Guide
                                </a>
                                <input type="file" id="file-upload" accept=".csv,.xlsx,.xls" class="hidden">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </section>

        <section id="results-section" class="card" style="display: none;">
            <div class="card-header">
                <h3><i data-feather="zap"></i> Optimization Results</h3>
            </div>
            <div class="card-body">
                <div class="metrics-container">
                    <div class="metric">
                        <div class="metric-label">Total Cost</div>
                        <div class="metric-value">$<span id="total-cost">0</span></div>
                        <div class="metric-subvalue">Budget: $<span id="budget-value">0</span> (<span id="budget-remaining">0</span> remaining)</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Completion Time</div>
                        <div class="metric-value"><span id="completion-time">0</span> days</div>
                        <div class="metric-subvalue">Deadline: <span id="deadline-value">0</span> days (<span id="time-buffer">0</span> buffer)</div>
                    </div>
                </div>

                <div class="risks-container">
                    <h4><i data-feather="alert-triangle"></i> Risks</h4>
                    <ul id="risks-list"></ul>
                </div>

                <div class="assignments-container">
                    <h4><i data-feather="check-circle"></i> Developer Assignments</h4>
                    <div class="table-container">
                        <table id="assignments-table">
                            <thead>
                                <tr>
                                    <th>Developer</th>
                                    <th>Project</th>
                                    <th>Hours</th>
                                    <th>Cost</th>
                                    <th>Skill Match</th>
                                </tr>
                            </thead>
                            <tbody id="assignments-body"></tbody>
                        </table>
                    </div>
                </div>

                <div class="charts-container">
                    <div class="chart-box">
                        <h4>Cost Distribution</h4>
                        <canvas id="cost-chart"></canvas>
                    </div>
                    <div class="chart-box">
                        <h4>Time Distribution</h4>
                        <canvas id="time-chart"></canvas>
                    </div>
                </div>

                <div class="quantum-visualization-container">
                    <h4><i data-feather="cpu"></i> Quantum Optimization Process</h4>
                    <div id="quantum-visualization"></div>
                    <div class="powered-by-info">
                        <div class="tech-badge" id="quantum-badge">
                            <i data-feather="box"></i> IBM Qiskit Powered
                        </div>
                        <div class="tech-badge" id="ai-badge">
                            <i data-feather="cpu"></i> OpenAI Enhanced
                        </div>
                    </div>
                </div>

                <div class="ai-insights">
                    <h4><i data-feather="cpu"></i> AI Insights</h4>
                    <div class="insight-explanation" id="ai-explanation"></div>
                    
                    <h5>Recommendations</h5>
                    <ul id="recommendations-list"></ul>
                </div>
                
                <div class="infosys-benefits">
                    <h4><i data-feather="bar-chart-2"></i> Enterprise Benefits</h4>
                    <div class="benefits-grid">
                        <div class="benefit-card">
                            <div class="benefit-icon"><i data-feather="dollar-sign"></i></div>
                            <div class="benefit-title">Cost Savings</div>
                            <div class="benefit-value" id="cost-savings">0%</div>
                            <div class="benefit-desc">Reduction in resource costs</div>
                        </div>
                        <div class="benefit-card">
                            <div class="benefit-icon"><i data-feather="clock"></i></div>
                            <div class="benefit-title">Time Efficiency</div>
                            <div class="benefit-value" id="time-efficiency">0%</div>
                            <div class="benefit-desc">Faster project delivery</div>
                        </div>
                        <div class="benefit-card">
                            <div class="benefit-icon"><i data-feather="award"></i></div>
                            <div class="benefit-title">Skills Utilization</div>
                            <div class="benefit-value" id="skill-match">0%</div>
                            <div class="benefit-desc">Optimal talent deployment</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="history-section" class="card">
            <div class="card-header">
                <h3><i data-feather="clock"></i> Optimization History</h3>
            </div>
            <div class="card-body">
                <div id="history-empty-state">No previous optimizations found</div>
                <ul id="history-list"></ul>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h3>Infosys Cloud & Workforce Optimizer</h3>
                    <p>Powered by QEO - Quantum Enterprise Optimizer © 2023</p>
                </div>
                <div class="footer-tech">
                    <div class="tech-item">
                        <span class="tech-icon"><i data-feather="box"></i></span>
                        <span class="tech-name">IBM Qiskit</span>
                    </div>
                    <div class="tech-item">
                        <span class="tech-icon"><i data-feather="cpu"></i></span>
                        <span class="tech-name">OpenAI</span>
                    </div>
                    <div class="tech-item">
                        <span class="tech-icon"><i data-feather="database"></i></span>
                        <span class="tech-name">PostgreSQL</span>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/charts.js') }}"></script>
    <script src="{{ url_for('static', filename='js/quantum-visualization.js') }}"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            feather.replace();
            initQuantumVisualization();
            
            // Initialize visualization when results section is displayed
            const resultsSection = document.getElementById('results-section');
            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.attributeName === 'style' && 
                        resultsSection.style.display !== 'none') {
                        // Results are now visible, ensure visualization is initialized
                        initQuantumVisualization();
                    }
                });
            });
            
            // Start observing for display changes
            observer.observe(resultsSection, { attributes: true });
            
            // Also initialize on window resize
            window.addEventListener('resize', function() {
                if (resultsSection.style.display !== 'none') {
                    initQuantumVisualization();
                }
            });
        });
    </script>
</body>
</html>
